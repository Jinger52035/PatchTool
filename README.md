# 概述
**PatchTool**是一款由UE开发的多功能的小工具如果您在看过文档之后仍然对此有疑问，可以观看教程。[B站教程](https://www.bilibili.com/video/BV1Cs8AeEEfL/),此外，因为软件还在积极更新中，每个版本有出入可以查看对应的文档。

# 补丁创建
**PatchTool**可以比较两个文件夹之间的插件，并且生成差异文件，这个差异文件即可作为文件夹级别上的**补丁**(所以本软件和 Ue的热更新插件 比如**Hotpatcher**是两个不同层面的补丁功能)。
因为制作理念初期就是为了方便更新一些简单的**Pak**,这边在结合**HotPatcher**打出补丁**Pak**,同时这并不是一款热更新工具，只是文件夹比较，
所以你的产品有C++更新，仍然可以用此实现更新。你的UE游戏可以只将最新的补丁文件传递给你的测试人员等，即可实现更新。

因为本人的游戏只需要给身边的朋友测试，所以无需搭建一个服务器执行热更新类型，而且有时候会涉及到C++更新，所以直接给个文件夹差异补丁，更新完事。

本人的单机游戏采用了这种方式：[TickingAway](https://docs.qq.com/sheet/DWUZLYUJtSUtGbnhK?tab=BB08J2)

一个简单的附赠文档：https://docs.qq.com/doc/DWVhaTUtTTlRXV1VX

# 补丁更新功能
选择[Release[Old]] 即是旧的游戏文件，如果选择正确会出现对应的版本号，如果制作者第一次没有加入版本号，那么最原始的第一个版本是没有版本号的，确定路径正确即可。
选择Patch[New-Old] 是补丁文件的地址，如果选择了正确的路径，那么版本号也会更新出来对应的版本。点击开始更新后,即可开始更新。
补丁文件需要按照顺序更新，(未来PatchTool会支持多补丁导入)
比如你下载的是0.0.1发行包版本，应用0.0.2-0.0.1补丁，即可将自己本地的游戏更新到0.0.2.
同样如果你得游戏已经是0.0.2，应用0.0.3-0.0.2即可将游戏更新到0.0.3

# memreport(UE内存可视化分析)：
memreport在打包Development后使用是最好的，如果在Editor使用可能会受到编辑器加载内存的影响。


# FAQ

* 1.我只能用PatchTool更新UE游戏吗？

    A:不是，PatchTool只是根据文件夹比较，目标不一定是UE制作的产物，只是作者本人懒得制作网络下载功能的产物，一些小游戏团队可以利用这个实现游戏更新。
除此之外，直接比较两个文件夹的差异也是可以的，并非只是为了UE打包的游戏。

* 2.PatchTool开源嘛？
  
    PatchTool使用了蓝图和C++，Github的LFS使用付费，是一个臃肿的产品，所以不上传源码。但是PatchTool会不断积极更新。

* 3.PatchTool免费嘛？

    PatchTool完全免费

* 4.PatchTool开源信息
  
    请遵守相关规定
[开源视频](https://www.bilibili.com/video/BV1jKEoznEi9)
[开源链接](https://pan.baidu.com/s/1as5RrazTPWztxxwW0U_4Gw?pwd=kbgb)
里面使用到了一些商业插件，侵联删。

* 5.未来更新计划
  
  5.1 软件用C++层面重新写一遍


# Release

V1.0.0

1.创建和应用存在问题，不推荐使用

是熬夜八小时奋斗出来的第一代产品

V1.0.1

1.修复创建和应用的bug，是一个稳定的版本

V1.0.2

1.优化界面

2.增加打印应用补丁文件的日志

V1.0.3

1.增加对UE Memreport日志的可视化展示

2.优化部分界面

3.增加日志可以关闭的功能追查内存泄漏的第一步是确定泄漏是否正在发生。一个简单的办法就是在两个不同的时间点分别生成当前内存分配的快照，比较两者来发现变化。如果在游戏中没有进行任何操作，那么无论过去了多少时间，内存的使用情况应该都不会有很大变化。但是如果被占用的内存量随着时间推移稳定地上升，可能就需要查找泄漏了。

直接在UE编辑器窗口的命令控制台上(或打包后)输入MemReport或MemReport -full即可得到内存分析报告。MemReport -full 会得到更加详细的分析报告。报告保存在Game/Saved/Profiling/MemReports目录下，文件格式为.memreport，使用文本编辑器就能打开查看。

MemReport这个指令可以在引擎目录下的\Engine\Config\BaseEngine.ini中查看并根据需要进行修改和定制。

MemReport的内存分析报告中包含了内存使用总量、对象列表和内存使用情况、Actor数量及信息等。我们可以隔一段时间使用MemReport统计一下内存，对比一下二者差异排查是否有内存泄漏。

V1.0.4

1.调整UI布局，让界面更加人性化

2.memreport增加更多人性化的布局

V1.0.5

1.增加批量更新功能

2.增加读取文件夹之后可以记录路径，避免每次重复打开

V2.0.0

1.优化UI布局

2.优化Memreport功能界面

3.增加Memreport基础 开始 分配信息以及Parse设置

V2.0.1

1.增加无视违规文件名功能，方便更新一些违规名文件

2.memreport增加dumpMemory、listTexture内存分析数据


